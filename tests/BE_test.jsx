/** * @fileoverview The script tests the base functionality of the BE object. * NOTE: It is assumed both TB and BE have been sourced. See * beforeeffects_tests.jsx to customize the overall BE test. * @author <a href="mailto:collin.brooks@gmail.com">Collin Brooks</a> * @version 0.1.0 dev */TB.module('BE');TB.test('BE Main', function () {    var x = 0,        blah,        s = "this is a string",        t = false,        f = function() {},        a = {one: "1", two: "2"},        b = {},        c = {},        ar = [],        d = new Date();    TB.hasProperty(BE, "BASE_PATH", "BASE_PATH should be a property of BE");    TB.hasProperty(BE, "AEVersion", "AEVersion should be a property of BE");    //Temporarily set BE to be in a development environment    BE.setDevEnv_(true);    TB.ok(BE.isDevEnv_(), "The BE environment set to be development successfully.");    //Set the development environment back to what the test requires.    BE.setDevEnv_(testConfig.developmentEnvironment);    //Test to make sure BE.provide only overwrites defined modules if the    //version number is greater than the currently defined module.    //NOTE: These tests will only provide valid results if they are run in a    //non development environment (devEnv_ within beforeeffects.jsx is false).    TB.equal(        BE.provide("BE.fakeModule", "0.1.0 lorem ipsum", function () {}),        true,        "BE.fakeModule was provided."    );    TB.equal(        BE.provide("BE.fakeModule", "0.1.0 lorem ipsum", function () {}),        false,        "BE.fakeModule 0.1.0 has already been provided. No need to provide it again."    );    TB.equal(        BE.provide("BE.fakeModule", "0.0.1 lorem ipsum", function () {}),        false,        "BE.fakeModule 0.0.1 is not the newest version. No need to provide it."    );    TB.equal(        BE.provide("BE.fakeModule", "0.2.0 lorem ipsum", function () {}),        true,        "BE.fakeModule 0.2.0 is the newest version. It should be provided."    );    TB.equal(BE.getVersion(), "0.1.0 dev", "Version should read 0.1.0 dev");    TB.equal(        BE.BASE_PATH,        new Folder("~/Dropbox/Scripts/AEScripts/BeforeEffects/src/").fsName,        "BE.BASE_PATH should equal the actual BE file base path.");    TB.equal(BE.nameToPath("BE.comp"), "comp/comp.jsxinc", "BE.comp should point to " +        "/comp");    TB.equal(BE.isDef(blah), false, "blah should not be defined");    TB.equal(BE.isDef(BE), true, "BE should be defined");    TB.equal(BE.isNull(null), true, "null should be null");    TB.equal(BE.isNull(x), false, "x should not be null");    TB.strictEqual(BE.isDefAndNotNull(undefined), false, "undefined should not " +        "pass as defined.");    TB.equal(BE.isDefAndNotNull(x), true, "x is defined and not null");    TB.equal(BE.isString(s), true, "s is a string");    TB.equal(BE.isString(x), false, "x is not a string");    TB.equal(BE.isBoolean(t), true, "t is a boolean value.");    TB.equal(BE.isBoolean(x), false, "x is not a boolean value.");    TB.equal(BE.isNumber(x), true, "x is a number.");    TB.equal(BE.isNumber(s), false, "s is not a number");    TB.equal(BE.isFunction(f), true, "f is a function");    TB.equal(BE.isFunction(t), false, "t is not a function");    BE.mixin(b,a);    TB.deepEqual(a, b, "b should be equal to a");    TB.notDeepEqual(a, c, "a should not be deeply equal to c");    TB.equal(BE.typeOf("blah"), "string", "\"blah\" is a string");    TB.equal(BE.isArray(ar), true, "ar is an array");    TB.equal(BE.isArray(x), false, "x is not an array");    TB.equal(BE.isObject(c), true, "c is an object");    TB.equal(BE.isObject(s), false, "s is not an object");    TB.equal(BE.isDateLike(d), true, "d is a date");});//The following tests require visual confirmation as there is no way to//programatically dictate whether the tests passed or failed.//Check the logging functionality//Turn off debuggingBE.setDebugLevel(0);BE.log.debug('This message should not be output to the console.');BE.log.warn('This warning should not be output to the console.');BE.log.error(new Error('This error message should not be seen.'));//Enable basic debug messagesBE.setDebugLevel(1);BE.log.debug('This message should be output to the console.');BE.log.warn('This warning should not be output to the console.');BE.log.error(new Error('This error message should be output to the console.'));//Enable warning debug messagesBE.setDebugLevel(2);BE.log.debug('This message should be output to the console.');BE.log.warn('This warning should be output to the console.');BE.log.error(new Error('This error message should be output to the console.'));//Output a log start messageBE.log.insertLogStart("This is a header message");